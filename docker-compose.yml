services:
  pinotes-lite:
    build: .
    ports:
      - "${PORT:-8090}:8000"
    volumes:
      - /home/professor/notes:/vault:ro   # notes vault â€” read-only
      - pinotes_lite_data:/data           # app data (SQLite, search index)
    environment:
      - VAULT_DIR=/vault
      - DATA_DIR=/data
      - ADMIN_USERNAME=admin
      - ADMIN_PASSWORD=admin
    networks:
      - npm-network
    restart: unless-stopped

volumes:
  pinotes_lite_data:

networks:
  npm-network:
    external: true
